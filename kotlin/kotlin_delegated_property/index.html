



<!doctype html>
<html lang="vi" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Tổng hợp tài liệu học lập trình">
      
      
        <link rel="canonical" href="https://buihainam.com/kotlin/kotlin_delegated_property/">
      
      
        <meta name="author" content="Bùi Hải Nam">
      
      
        <meta name="lang:clipboard.copy" content="Sao chép vào bộ nhớ">
      
        <meta name="lang:clipboard.copied" content="Sao chép xong">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="Không tìm thấy tài liệu liên quan">
      
        <meta name="lang:search.result.one" content="1 tài liệu liên quan">
      
        <meta name="lang:search.result.other" content="# tài liệu liên quan">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../img/logo.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.2">
    
    
      
        <title>Kotlin Delegated property - My Notes</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.30686662.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="#3f51b5">
      
    
    
      <script src="../../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
      <link rel="manifest" href="../../manifest.webmanifest">
    
    
      <link rel="stylesheet" href="../../assets/wodby.css">
    
    
      
        
<script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-139140751-1", "auto")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#gioi-thieu" tabindex="1" class="md-skip">
        Vào thẳng nội dung
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://buihainam.com/" title="My Notes" class="md-header-nav__button md-logo">
          
            <img src="../../img/logo.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              My Notes
            </span>
            <span class="md-header-nav__topic">
              
                Kotlin Delegated property
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Tìm kiếm" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Nhập để bắt đầu tìm kiếm
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/VNAPNIC/Learn-to-Code" title="Đến kho lưu trữ mã nguồn" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    Follow
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://buihainam.com/" title="My Notes" class="md-nav__button md-logo">
      
        <img src="../../img/logo.png" width="48" height="48">
      
    </a>
    My Notes
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/VNAPNIC/Learn-to-Code" title="Đến kho lưu trữ mã nguồn" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    Follow
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="About" class="md-nav__link">
      About
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Oracle Certified
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Oracle Certified
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../oraclecertified/ocpjpvsscjp/" title="SCJP, OCPJP" class="md-nav__link">
      SCJP, OCPJP
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Programming
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Programming
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../programming/lap-trinh-tuyen-tinh-la-gi-uu-nhuoc-diem/" title="Lập trình tuyến tính là gì" class="md-nav__link">
      Lập trình tuyến tính là gì
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../programming/lap-trinh-cau-truc-la-gi-uu-nhuoc-diem/" title="Lập trình cấu trúc là gì" class="md-nav__link">
      Lập trình cấu trúc là gì
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../programming/lap-trinh-huong-doi-tuong-la-gi-uu-nhuoc-diem/" title="Lập trình hướng đối tượng là gì" class="md-nav__link">
      Lập trình hướng đối tượng là gì
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../programming/oop-vs-pop/" title="So sánh POP với OOP" class="md-nav__link">
      So sánh POP với OOP
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Java
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Java
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../java/ngon-ngu-java-la-gi/" title="Ngôn ngữ Java là gì" class="md-nav__link">
      Ngôn ngữ Java là gì
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../java/cac-tinh-chat-huong-doi-tuong-cua-java/" title="OOP Trong Java" class="md-nav__link">
      OOP Trong Java
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      JUnit
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        JUnit
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../junit/junit-la-gi-vi-du-junit-voi-eclipse-maven/" title="JUnit là gì" class="md-nav__link">
      JUnit là gì
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../junit/assertions-la-gi-code-vi-du-junit-voi-assertions/" title="Assertions là gì" class="md-nav__link">
      Assertions là gì
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../junit/test-runner-va-test-suite-tao-bo-test-voi-junit/" title="Test runner và Test suite" class="md-nav__link">
      Test runner và Test suite
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../junit/thu-tu-chay-cac-test-case-trong-junit-vi-du/" title="Thứ tự chạy các test case trong JUnit" class="md-nav__link">
      Thứ tự chạy các test case trong JUnit
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../junit/junit-expected-exceptions-code-vi-du-test-exception-voi-junit/" title="JUnit Expected Exceptions" class="md-nav__link">
      JUnit Expected Exceptions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../junit/vi-du-junit-voi-matchers-va-assertthat/" title="JUnit với Matchers và assertThat" class="md-nav__link">
      JUnit với Matchers và assertThat
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../junit/vi-du-junit-ignoring-tests-va-timeout-voi-test-case/" title="JUnit Ignoring và Timeout với test case" class="md-nav__link">
      JUnit Ignoring và Timeout với test case
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6" checked>
    
    <label class="md-nav__link" for="nav-6">
      Kotlin
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Kotlin
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../kotlin_basic/" title="Kotlin Basic" class="md-nav__link">
      Kotlin Basic
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../kotlin_class_inheritance/" title="Kotlin Class và kế thừa" class="md-nav__link">
      Kotlin Class và kế thừa
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../kotlin_property_field/" title="Kotlin Property và field" class="md-nav__link">
      Kotlin Property và field
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../kotlin_function/" title="Kotlin Funtion" class="md-nav__link">
      Kotlin Funtion
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../kotlin_inline_function/" title="Kotlin Inline function" class="md-nav__link">
      Kotlin Inline function
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../kotlin_higher_order_function/" title="Kotlin Higher order funtion" class="md-nav__link">
      Kotlin Higher order funtion
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../kotlin_inteface/" title="Kotlin Inteface" class="md-nav__link">
      Kotlin Inteface
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../kotlin_data_class/" title="Kotlin Data class" class="md-nav__link">
      Kotlin Data class
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../kotlin_nested_class/" title="Kotlin Nested class" class="md-nav__link">
      Kotlin Nested class
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../kotlin_visibility_modifiers/" title="Kotlin Visibility Modifiers" class="md-nav__link">
      Kotlin Visibility Modifiers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../kotlin_lambda/" title="Kotlin Lambda" class="md-nav__link">
      Kotlin Lambda
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../kotlin_collection/" title="Kotlin Collection" class="md-nav__link">
      Kotlin Collection
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../kotlin_enum_classes/" title="Kotlin Enum Classes" class="md-nav__link">
      Kotlin Enum Classes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../kotlin_overloading_operator/" title="Kotlin Overloading operator" class="md-nav__link">
      Kotlin Overloading operator
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../kotlin_range/" title="Kotlin Range" class="md-nav__link">
      Kotlin Range
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../kotlin_idioms/" title="Kotlin Idioms" class="md-nav__link">
      Kotlin Idioms
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../kotlin_exception/" title="Kotlin Exception" class="md-nav__link">
      Kotlin Exception
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../kotlin_delegation/" title="Kotlin Delegation" class="md-nav__link">
      Kotlin Delegation
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Kotlin Delegated property
      </label>
    
    <a href="./" title="Kotlin Delegated property" class="md-nav__link md-nav__link--active">
      Kotlin Delegated property
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Mục lục</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#gioi-thieu" class="md-nav__link">
    Giới thiệu
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#delegate-chuan" class="md-nav__link">
    Delegate chuẩn
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lazy" class="md-nav__link">
    lazy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#observable" class="md-nav__link">
    Observable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#luu-tru-property-trong-mot-map" class="md-nav__link">
    Lưu trữ property trong một map
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#local-delegated-property-tu-kotlin-11" class="md-nav__link">
    Local delegated property (từ Kotlin 1.1)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#yeu-cau-cua-delegated-property" class="md-nav__link">
    Yêu cầu của delegated property
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#luat-chuyen-oi" class="md-nav__link">
    Luật chuyển đổi
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../call_java_from_kotlin/" title="Gọi Java code từ Kotlin" class="md-nav__link">
      Gọi Java code từ Kotlin
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../call_kotlin_from_java/" title="Gọi Kotlin từ Java" class="md-nav__link">
      Gọi Kotlin từ Java
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Dart
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Dart
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../dart/dart_environment_settings/" title="Dart Cài đặt môi trường" class="md-nav__link">
      Dart Cài đặt môi trường
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../dart/dart_core/" title="Dart Basic" class="md-nav__link">
      Dart Basic
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../dart/dart_async_intro/" title="Dart Async" class="md-nav__link">
      Dart Async
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Flutter
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Flutter
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../flutter/flutter_introduction/" title="9 lý do tại sao nên chọn Flutter" class="md-nav__link">
      9 lý do tại sao nên chọn Flutter
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../flutter/flutter_screenutil/" title="Flutter ScreenUtil" class="md-nav__link">
      Flutter ScreenUtil
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Mục lục</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#gioi-thieu" class="md-nav__link">
    Giới thiệu
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#delegate-chuan" class="md-nav__link">
    Delegate chuẩn
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lazy" class="md-nav__link">
    lazy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#observable" class="md-nav__link">
    Observable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#luu-tru-property-trong-mot-map" class="md-nav__link">
    Lưu trữ property trong một map
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#local-delegated-property-tu-kotlin-11" class="md-nav__link">
    Local delegated property (từ Kotlin 1.1)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#yeu-cau-cua-delegated-property" class="md-nav__link">
    Yêu cầu của delegated property
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#luat-chuyen-oi" class="md-nav__link">
    Luật chuyển đổi
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>Kotlin Delegated property</h1>
                
                <h2 id="gioi-thieu">Giới thiệu<a class="headerlink" href="#gioi-thieu" title="Permanent link">&para;</a></h2>
<p>Với các property trong một class, chúng ta bắt buộc phải khởi tạo chúng hoặc sử dụng constructor để gán giá trị ngay khi khởi tạo đối tượng. Tuy nhiên, đôi lúc chúng ta lại muốn khởi tạo những property này chỉ khi truy cập lần đầu tiên vào property đó. Để thực hiện điều này, <em>Kotlin</em> cung cấp delegated property thông qua những chức năng sau:</p>
<ul>
<li>lazy property: Giá trị của property được tính toán trong lúc truy cập lần đầu tiên đến property</li>
<li>observable property: lắng nghe sự thay đổi giá trị của property</li>
<li>Lưu trữ các property trong một map thay vì lưu riêng từng property Một VD của delegated property:</li>
</ul>
<div class="codehilite"><pre><span></span>  <span class="k">class</span> <span class="nc">Example</span> <span class="p">{</span>
      <span class="k">var</span> <span class="py">p</span><span class="p">:</span> <span class="n">String</span> <span class="k">by</span> <span class="n">Delegate</span><span class="p">()</span>
  <span class="p">}</span>
</pre></div>

<p>Cú pháp để khai báo delegated property là: <code class="codehilite"><span class="n">val</span><span class="o">/</span><span class="n">var</span> <span class="o">&lt;</span><span class="n">property</span> <span class="n">name</span><span class="o">&gt;</span><span class="p">:</span> <span class="o">&lt;</span><span class="k">Type</span><span class="o">&gt;</span> <span class="k">by</span> <span class="o">&lt;</span><span class="n">expression</span><span class="o">&gt;</span></code>. Biểu thức ở sau <code class="codehilite"><span class="k">by</span></code> là delegate, bởi vì <code class="codehilite"><span class="k">get</span><span class="p">()</span></code> (và <code class="codehilite"><span class="k">set</span><span class="p">()</span></code>) tương ứng với property sẽ được ủy thác cho các method <code class="codehilite"><span class="n">getValue</span><span class="p">()</span></code> và <code class="codehilite"><span class="n">setValue</span><span class="p">()</span></code> của class <code class="codehilite"><span class="n">Delegate</span></code>. <code class="codehilite"><span class="n">Delegate</span></code> không cần phải implement bất kỳ interface nào nhưng phải cung cấp 2 function là <code class="codehilite"><span class="n">getValue</span><span class="p">()</span></code> (và <code class="codehilite"><span class="n">setValue</span><span class="p">()</span></code> đối với property kiểu <code class="codehilite"><span class="n">var</span></code>). Ví dụ:</p>
<div class="codehilite"><pre><span></span>  <span class="k">class</span> <span class="nc">Delegate</span> <span class="p">{</span>
      <span class="k">operator</span> <span class="k">fun</span> <span class="nf">getValue</span><span class="p">(</span><span class="n">thisRef</span><span class="p">:</span> <span class="n">Any</span><span class="p">?,</span> <span class="n">property</span><span class="p">:</span> <span class="n">KProperty</span><span class="p">&lt;*&gt;):</span> <span class="n">String</span> <span class="p">{</span>
          <span class="n">System</span><span class="p">.</span><span class="k">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;first&quot;</span><span class="p">)</span>
          <span class="k">return</span> <span class="s">&quot;$thisRef, thank you for delegating &#39;${property.name}&#39; to me!&quot;</span>
      <span class="p">}</span>

      <span class="k">operator</span> <span class="k">fun</span> <span class="nf">setValue</span><span class="p">(</span><span class="n">thisRef</span><span class="p">:</span> <span class="n">Any</span><span class="p">?,</span> <span class="n">property</span><span class="p">:</span> <span class="n">KProperty</span><span class="p">&lt;*&gt;,</span> <span class="n">value</span><span class="p">:</span> <span class="n">String</span><span class="p">)</span> <span class="p">{</span>
          <span class="n">println</span><span class="p">(</span><span class="s">&quot;$value has been assigned to &#39;${property.name} in $thisRef.&#39;&quot;</span><span class="p">)</span>
      <span class="p">}</span>
  <span class="p">}</span>
</pre></div>

<p>Khi chúng ta truy cập để đọc giá trị của <code class="codehilite"><span class="n">p</span></code>, không phải function getter của property <code class="codehilite"><span class="n">p</span></code> được gọi mà là function <code class="codehilite"><span class="n">getValue</span><span class="p">()</span></code> của class <code class="codehilite"><span class="n">Delegate</span></code> được gọi bởi property đã ủy thác việc này cho <code class="codehilite"><span class="n">Delegate</span></code>. 2 tham số của function <code class="codehilite"><span class="n">getValue</span><span class="p">()</span></code> lần lượt là đối tượng chứa <code class="codehilite"><span class="n">p</span></code> và đối tượng lưu trữ các thông tin của <code class="codehilite"><span class="n">p</span></code>. Bởi vậy, khi gọi <code class="codehilite"><span class="n">p</span></code>:</p>
<div class="codehilite"><pre><span></span>  <span class="k">val</span> <span class="py">e</span> <span class="p">=</span> <span class="n">Example</span><span class="p">()</span>
  <span class="n">println</span><span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">p</span><span class="p">)</span>
</pre></div>

<p>Kết quả nhận được sẽ là:</p>
<div class="codehilite"><pre><span></span>  <span class="n">Example</span><span class="err">@</span><span class="m">33</span><span class="n">a17727</span><span class="p">,</span> <span class="n">thank</span> <span class="n">you</span> <span class="k">for</span> <span class="n">delegating</span> <span class="sc">&#39;p&#39;</span> <span class="n">to</span> <span class="n">me</span><span class="p">!</span>
</pre></div>

<p>Tương tự như vậy, khi chúng ta gán giá trị cho <code class="codehilite"><span class="n">p</span></code>, function <code class="codehilite"><span class="n">setValue</span><span class="p">()</span></code> sẽ được gọi. Các tham số của function <code class="codehilite"><span class="n">setValue</span><span class="p">()</span></code> tương tự như function <code class="codehilite"><span class="n">getValue</span><span class="p">()</span></code>, tham số thứ 3 là giá trị được gán cho <code class="codehilite"><span class="n">p</span></code>:</p>
<div class="codehilite"><pre><span></span>  <span class="n">e</span><span class="p">.</span><span class="n">p</span> <span class="p">=</span> <span class="s">&quot;NEW&quot;</span>

  <span class="c1">//NEW has been assigned to &#39;p&#39; in Example@33a17727.</span>
</pre></div>

<p>Lưu ý: từ <em>Kotlin</em> 1.1, bạn có thể khai báo một delegated property ngay bên trong một function hoặc một block code, nó không cần là một member của class.</p>
<h2 id="delegate-chuan">Delegate chuẩn<a class="headerlink" href="#delegate-chuan" title="Permanent link">&para;</a></h2>
<p>Thư viện chuẩn của <em>Kotlin</em> cung cấp các factory method cho nhiều mục đích sử dụng delegate khác nhau.</p>
<h3 id="lazy">lazy<a class="headerlink" href="#lazy" title="Permanent link">&para;</a></h3>
<p><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/lazy.html">lazy()</a> là một function lấy một lambda và trả về một instance của <code class="codehilite"><span class="n">Lazy</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span></code> để có thể implement một lazy property: lần gọi đầu tiên đến function <code class="codehilite"><span class="k">get</span><span class="p">()</span></code> sẽ thực thi đoạn code trong lambda được truyền vào để khởi tạo kết quả và gán kết quả cho property. Các lần gọi <code class="codehilite"><span class="k">get</span><span class="p">()</span></code> sau sẽ chỉ trả về giá trị của property.</p>
<div class="codehilite"><pre><span></span>  <span class="k">val</span> <span class="py">lazyValue</span><span class="p">:</span> <span class="n">String</span> <span class="k">by</span> <span class="n">lazy</span> <span class="p">{</span>
      <span class="n">println</span><span class="p">(</span><span class="s">&quot;computed!&quot;</span><span class="p">)</span>
      <span class="s">&quot;Hello&quot;</span>
  <span class="p">}</span>

  <span class="k">fun</span> <span class="nf">main</span><span class="p">(</span><span class="n">args</span><span class="p">:</span> <span class="n">Array</span><span class="p">&lt;</span><span class="n">String</span><span class="p">&gt;)</span> <span class="p">{</span>
      <span class="n">println</span><span class="p">(</span><span class="n">lazyValue</span><span class="p">)</span>
      <span class="n">println</span><span class="p">(</span><span class="n">lazyValue</span><span class="p">)</span>
  <span class="p">}</span>
</pre></div>

<p>Kết quả được in ra là:</p>
<div class="codehilite"><pre><span></span>  <span class="n">computed</span><span class="p">!</span>
  <span class="n">Hello</span>
  <span class="n">Hello</span>
</pre></div>

<p>Mặc định, việc tính toán của lazy property được synchronized: giá trị được tính toán chỉ trong 1 thread, và tất cả các thread sẽ sử dụng cùng kết quả đó. Nếu quá trình synchronize của việc khởi tạo không được yêu cầu, nhiều thread sẽ có thể thực thi việc khởi tạo này cùng một lúc bằng cách truyền tham số <code class="codehilite"><span class="n">LazyThreadSafetyMode</span><span class="p">.</span><span class="n">PUBLICATION</span></code> cho function <code class="codehilite"><span class="n">lazy</span><span class="p">()</span></code>. Và nếu bạn chắc chắn rằng việc khởi tạo sẽ luôn luôn xảy ra trên một thread duy nhất, bạn có thể sử dụng tham số <code class="codehilite"><span class="n">LazyThreadSafetyMode</span><span class="p">.</span><span class="k">NONE</span></code>, điều này giúp giảm chi phí (overhead) trong việc đảm bảo thread-safety và các chi phí khác</p>
<h3 id="observable">Observable<a class="headerlink" href="#observable" title="Permanent link">&para;</a></h3>
<p><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.properties/-delegates/observable.html">Delegate.observable()</a> nhận vào 2 tham số: giá trị khởi tạo của property và một handler trong trường hợp property thay đổi giá trị. Handler mà chúng ta truyền vào sẽ được thực thi mỗi lần chúng ta gán giá trị cho property (<em>sau</em> khi việc gán được thực thi). Handler này có 3 tham số: property được gán, giá trị cũ và giá trị mới:</p>
<div class="codehilite"><pre><span></span>  <span class="k">import</span> <span class="nn">kotlin.properties.Delegates</span>

  <span class="k">class</span> <span class="nc">User</span> <span class="p">{</span>
      <span class="k">var</span> <span class="py">name</span><span class="p">:</span> <span class="n">String</span> <span class="k">by</span> <span class="n">Delegates</span><span class="p">.</span><span class="n">observable</span><span class="p">(</span><span class="s">&quot;&lt;no name&gt;&quot;</span><span class="p">)</span> <span class="p">{</span>
          <span class="n">prop</span><span class="p">,</span> <span class="n">old</span><span class="p">,</span> <span class="n">new</span> <span class="p">-&gt;</span>
          <span class="n">println</span><span class="p">(</span><span class="s">&quot;$old -&gt; $new&quot;</span><span class="p">)</span>
      <span class="p">}</span>
  <span class="p">}</span>

  <span class="k">fun</span> <span class="nf">main</span><span class="p">(</span><span class="n">args</span><span class="p">:</span> <span class="n">Array</span><span class="p">&lt;</span><span class="n">String</span><span class="p">&gt;)</span> <span class="p">{</span>
      <span class="k">val</span> <span class="py">user</span> <span class="p">=</span> <span class="n">User</span><span class="p">()</span>
      <span class="n">user</span><span class="p">.</span><span class="n">name</span> <span class="p">=</span> <span class="s">&quot;first&quot;</span>
      <span class="n">user</span><span class="p">.</span><span class="n">name</span> <span class="p">=</span> <span class="s">&quot;second&quot;</span>
  <span class="p">}</span>
</pre></div>

<p>Kết quả được in ra là:</p>
<div class="codehilite"><pre><span></span>  <span class="p">&lt;</span><span class="n">no</span> <span class="n">name</span><span class="p">&gt;</span> <span class="p">-&gt;</span> <span class="n">first</span>
  <span class="n">first</span> <span class="p">-&gt;</span> <span class="n">second</span>
</pre></div>

<p>Nếu bạn muốn có thể can thiệp vào việc gán và phủ quyết việc đó, sử dụng <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.properties/-delegates/vetoable.html">vetoable()</a> thay vì <code class="codehilite"><span class="n">observable</span><span class="p">()</span></code>. Hanlder được truyền vào <code class="codehilite"><span class="n">vetoable</span></code> sẽ được gọi <em>trước</em> khi việc gán được thực thi.</p>
<h3 id="luu-tru-property-trong-mot-map">Lưu trữ property trong một map<a class="headerlink" href="#luu-tru-property-trong-mot-map" title="Permanent link">&para;</a></h3>
<p>Một trường hợp phổ biến là lưu trữ các giá trị của các property bên trong một map. Việc này thường hữu dụng trong trong trường hợp như parsing JSON hoặc làm một thứ gì đó động. Trong trường hợp này, bạn có thể sử dụng chính instance của map như là delegate cho một delegate property</p>
<div class="codehilite"><pre><span></span>  <span class="k">class</span> <span class="nc">User</span><span class="p">(</span><span class="k">val</span> <span class="py">map</span><span class="p">:</span> <span class="n">Map</span><span class="p">&lt;</span><span class="n">String</span><span class="p">,</span> <span class="n">Any</span><span class="p">?&gt;)</span> <span class="p">{</span>
    <span class="k">val</span> <span class="py">name</span><span class="p">:</span> <span class="n">String</span> <span class="k">by</span> <span class="n">map</span>
    <span class="k">val</span> <span class="py">age</span><span class="p">:</span> <span class="n">Int</span>     <span class="k">by</span> <span class="n">map</span>
  <span class="p">}</span>

  <span class="k">val</span> <span class="py">user</span> <span class="p">=</span> <span class="n">User</span><span class="p">(</span><span class="n">mapOf</span><span class="p">(</span>
    <span class="s">&quot;name&quot;</span> <span class="n">to</span> <span class="s">&quot;John Doe&quot;</span><span class="p">,</span>
    <span class="s">&quot;age&quot;</span>  <span class="n">to</span> <span class="m">25</span>
  <span class="p">))</span>
</pre></div>

<p>Chúng ta có thể khởi tạo object bằng cách truyền vào một map. Khi truy cập đến property, việc này sẽ được ủy thác cho map</p>
<div class="codehilite"><pre><span></span>  <span class="n">println</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="n">name</span><span class="p">)</span> <span class="c1">// Prints &quot;John Doe&quot;</span>
  <span class="n">println</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="n">age</span><span class="p">)</span>  <span class="c1">// Prints 25</span>
</pre></div>

<p>Với kiểu <code class="codehilite"><span class="n">var</span></code>, chúng ta phải sử dụng <code class="codehilite"><span class="n">MutableMap</span></code> thay vì <code class="codehilite"><span class="k">Map</span></code> (read-only <code class="codehilite"><span class="k">Map</span></code>)</p>
<div class="codehilite"><pre><span></span>  <span class="k">class</span> <span class="nc">MutableUser</span><span class="p">(</span><span class="k">val</span> <span class="py">map</span><span class="p">:</span> <span class="n">MutableMap</span><span class="p">&lt;</span><span class="n">String</span><span class="p">,</span> <span class="n">Any</span><span class="p">?&gt;)</span> <span class="p">{</span>
      <span class="k">var</span> <span class="py">name</span><span class="p">:</span> <span class="n">String</span> <span class="k">by</span> <span class="n">map</span>
      <span class="k">var</span> <span class="py">age</span><span class="p">:</span> <span class="n">Int</span>     <span class="k">by</span> <span class="n">map</span>
  <span class="p">}</span>
</pre></div>

<h2 id="local-delegated-property-tu-kotlin-11">Local delegated property (từ <em>Kotlin</em> 1.1)<a class="headerlink" href="#local-delegated-property-tu-kotlin-11" title="Permanent link">&para;</a></h2>
<p>Bạn có thể khai báo một local variable như là một delegated property. VD:</p>
<div class="codehilite"><pre><span></span>  <span class="k">fun</span> <span class="nf">example</span><span class="p">(</span><span class="n">computeFoo</span><span class="p">:</span> <span class="p">()</span> <span class="p">-&gt;</span> <span class="n">Foo</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">val</span> <span class="py">memoizedFoo</span> <span class="k">by</span> <span class="n">lazy</span><span class="p">(</span><span class="n">computeFoo</span><span class="p">)</span>

      <span class="k">if</span> <span class="p">(</span><span class="n">someCondition</span> <span class="p">&amp;&amp;</span> <span class="n">memoizedFoo</span><span class="p">.</span><span class="n">isValid</span><span class="p">())</span> <span class="p">{</span>
          <span class="n">memoizedFoo</span><span class="p">.</span><span class="n">doSomething</span><span class="p">()</span>
      <span class="p">}</span>
  <span class="p">}</span>
</pre></div>

<p>Biến <code class="codehilite"><span class="n">memoizedFoo</span></code> sẽ chỉ được tính toán vào lần truy cập đầu tiên bằng lambda <code class="codehilite"><span class="n">computeFoo</span></code> được truyền vào. Nếu <code class="codehilite"><span class="n">someCondition</span></code> bằng <code class="codehilite"><span class="k">false</span></code>, <code class="codehilite"><span class="n">memoizedFoo</span></code> sẽ không được khởi tạo.</p>
<h2 id="yeu-cau-cua-delegated-property">Yêu cầu của delegated property<a class="headerlink" href="#yeu-cau-cua-delegated-property" title="Permanent link">&para;</a></h2>
<p>Đây là những yêu cầu của delegated object được tổng kết lại:</p>
<p>Với read-only property (<code class="codehilite"><span class="n">val</span></code>), một delegate phải implement một function tên là <code class="codehilite"><span class="n">getValue</span></code> gồm 2 tham số:</p>
<ul>
<li><code class="codehilite"><span class="n">thisRef</span></code> - phải có cùng kiểu hoặc kiểu mà kiểu của property kế thừa</li>
<li><code class="codehilite"><span class="n">property</span></code> - phải có kiểu <code class="codehilite"><span class="n">KProperty</span><span class="o">&lt;*&gt;</span></code> hoặc kiểu nó kế thừa Cùng với đó, function <code class="codehilite"><span class="n">getValue</span><span class="p">()</span></code>phải trả về giá trị cùng kiểu với property.</li>
</ul>
<p>Với mutable property ('var'), một delegate ngoài phải cung cấp <code class="codehilite"><span class="n">getValue</span></code> như read-only property còn phải implement function <code class="codehilite"><span class="n">setValue</span></code> có các tham số sau:</p>
<ul>
<li><code class="codehilite"><span class="n">thisRef</span></code> - tương tự như <code class="codehilite"><span class="n">getValue</span></code></li>
<li><code class="codehilite"><span class="n">property</span></code> - tương tự như <code class="codehilite"><span class="n">getValue</span></code></li>
<li>giá trị mới - phải có cùng kiểu với property hoặc có kiểu mà kiểu của property kế thừa<code class="codehilite"><span class="n">getValue</span></code> và/hoặc <code class="codehilite"><span class="n">setValue</span></code> có thể là member function của delegate class hoặc extension function. Trường hợp phía sau là tiện hơn khi bạn cần ủy thác property cho một object mà ban đầu không implement các hàm này. Cả 2 function cần được đánh dấu với từ khóa <code class="codehilite"><span class="k">operator</span></code></li>
</ul>
<div class="codehilite"><pre><span></span>  <span class="k">class</span> <span class="nc">User</span> <span class="p">{</span>
      <span class="k">var</span> <span class="py">name</span><span class="p">:</span> <span class="n">String</span> <span class="k">by</span> <span class="n">Delegate</span><span class="p">()</span>

      <span class="k">operator</span> <span class="k">fun</span> <span class="nc">Delegate</span><span class="p">.</span><span class="nf">setValue</span><span class="p">(</span><span class="n">thisRef</span><span class="p">:</span> <span class="n">User</span><span class="p">,</span> <span class="n">property</span><span class="p">:</span> <span class="n">KProperty</span><span class="p">&lt;*&gt;,</span> <span class="n">value</span><span class="p">:</span> <span class="n">String</span><span class="p">)</span> <span class="p">{</span>

      <span class="p">}</span>

      <span class="k">operator</span> <span class="k">fun</span> <span class="nc">Delegate</span><span class="p">.</span><span class="nf">getValue</span><span class="p">(</span><span class="n">thisRef</span><span class="p">:</span> <span class="n">User</span><span class="p">,</span> <span class="n">property</span><span class="p">:</span> <span class="n">KProperty</span><span class="p">&lt;*&gt;):</span> <span class="n">String</span> <span class="p">{</span>
          <span class="n">println</span><span class="p">(</span><span class="s">&quot;hi&quot;</span><span class="p">)</span>
          <span class="k">return</span> <span class="s">&quot;tu&quot;</span>
      <span class="p">}</span>

      <span class="k">class</span> <span class="nc">Delegate</span>
  <span class="p">}</span>
</pre></div>

<p>Delegate class có thể implement interface <code class="codehilite"><span class="n">ReadOnlyProperty</span></code> với <code class="codehilite"><span class="n">val</span></code> hoặc <code class="codehilite"><span class="n">ReadWriteProperty</span></code> với <code class="codehilite"><span class="n">var</span></code> được khai báo trong thư viện chuẩn của <em>Kotlin</em>:</p>
<div class="codehilite"><pre><span></span>  <span class="k">interface</span> <span class="nc">ReadOnlyProperty</span><span class="p">&lt;</span><span class="k">in</span> <span class="n">R</span><span class="p">,</span> <span class="k">out</span> <span class="n">T</span><span class="p">&gt;</span> <span class="p">{</span>
      <span class="k">operator</span> <span class="k">fun</span> <span class="nf">getValue</span><span class="p">(</span><span class="n">thisRef</span><span class="p">:</span> <span class="n">R</span><span class="p">,</span> <span class="n">property</span><span class="p">:</span> <span class="n">KProperty</span><span class="p">&lt;*&gt;):</span> <span class="n">T</span>
  <span class="p">}</span>

  <span class="k">interface</span> <span class="nc">ReadWriteProperty</span><span class="p">&lt;</span><span class="k">in</span> <span class="n">R</span><span class="p">,</span> <span class="n">T</span><span class="p">&gt;</span> <span class="p">{</span>
      <span class="k">operator</span> <span class="k">fun</span> <span class="nf">getValue</span><span class="p">(</span><span class="n">thisRef</span><span class="p">:</span> <span class="n">R</span><span class="p">,</span> <span class="n">property</span><span class="p">:</span> <span class="n">KProperty</span><span class="p">&lt;*&gt;):</span> <span class="n">T</span>
      <span class="k">operator</span> <span class="k">fun</span> <span class="nf">setValue</span><span class="p">(</span><span class="n">thisRef</span><span class="p">:</span> <span class="n">R</span><span class="p">,</span> <span class="n">property</span><span class="p">:</span> <span class="n">KProperty</span><span class="p">&lt;*&gt;,</span> <span class="n">value</span><span class="p">:</span> <span class="n">T</span><span class="p">)</span>
  <span class="p">}</span>
</pre></div>

<h3 id="luat-chuyen-oi">Luật chuyển đổi<a class="headerlink" href="#luat-chuyen-oi" title="Permanent link">&para;</a></h3>
<p>Thực tế, với mỗi delegated property, <em>Kotlin</em> compiler sinh ra các property hỗ trợ và delegate cho property đó. Ví dụ, với property <code class="codehilite"><span class="n">prop</span></code>, property ẩn <code class="codehilite"><span class="n">prop$delegate</span></code> sẽ được sinh ra, và đoạn code của các các hàm getter, setter đơn giản là delegate đển property ẩn này:</p>
<div class="codehilite"><pre><span></span>  <span class="k">class</span> <span class="nc">C</span> <span class="p">{</span>
      <span class="k">var</span> <span class="py">prop</span><span class="p">:</span> <span class="n">Type</span> <span class="k">by</span> <span class="n">MyDelegate</span><span class="p">()</span>
  <span class="p">}</span>

  <span class="c1">// this code is generated by the compiler instead:</span>
  <span class="k">class</span> <span class="nc">C</span> <span class="p">{</span>
      <span class="k">private</span> <span class="k">val</span> <span class="py">prop</span><span class="err">$</span><span class="n">delegate</span> <span class="p">=</span> <span class="n">MyDelegate</span><span class="p">()</span>
      <span class="k">var</span> <span class="py">prop</span><span class="p">:</span> <span class="n">Type</span>
          <span class="k">get</span><span class="p">()</span> <span class="p">=</span> <span class="n">prop</span><span class="err">$</span><span class="n">delegate</span><span class="p">.</span><span class="n">getValue</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="k">this</span><span class="o">::</span><span class="n">prop</span><span class="p">)</span>
          <span class="k">set</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">Type</span><span class="p">)</span> <span class="p">=</span> <span class="n">prop</span><span class="err">$</span><span class="n">delegate</span><span class="p">.</span><span class="n">setValue</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="k">this</span><span class="o">::</span><span class="n">prop</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
  <span class="p">}</span>
</pre></div>

<p><em>Kotlin</em> compiler cung cấp tất cả các thông tin cần thiết về <code class="codehilite"><span class="n">prop</span></code> trong các tham số: <code class="codehilite"><span class="n">this</span></code> tham chiếu đến một instance của class <code class="codehilite"><span class="k">C</span></code> và <code class="codehilite"><span class="n">this</span><span class="p">::</span><span class="n">prop</span></code> là reflection object của kiểu <code class="codehilite"><span class="n">KProperty</span></code>, mô tả chính <code class="codehilite"><span class="n">prop</span></code></p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../kotlin_delegation/" title="Kotlin Delegation" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Trước
                </span>
                Kotlin Delegation
              </span>
            </div>
          </a>
        
        
          <a href="../call_java_from_kotlin/" title="Gọi Java code từ Kotlin" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Sau
                </span>
                Gọi Java code từ Kotlin
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2019 - 2020 Bùi Hải Nam
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../assets/fonts/font-awesome.css">
    
      <a href="http://finishcoding.com/" class="md-footer-social__link fa fa-globe"></a>
    
      <a href="https://github.com/VNAPNIC" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://www.facebook.com/NankaiNotes" class="md-footer-social__link fa fa-facebook"></a>
    
      <a href="https://www.youtube.com/channel/UCRDfk9nY7DbmpRjcfrwcwPw" class="md-footer-social__link fa fa-youtube"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.c648116f.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
        <script src="../../assets/jquery-3.3.1.min.js"></script>
      
        <script src="../../assets/intercom.js"></script>
      
        <script src="../../assets/wodby.js"></script>
      
    
  </body>
</html>