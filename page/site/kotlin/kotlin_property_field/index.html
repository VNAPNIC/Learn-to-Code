



<!doctype html>
<html lang="vi" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Tổng hợp tài liệu học lập trình">
      
      
        <link rel="canonical" href="https://buihainam.com/kotlin/kotlin_property_field/">
      
      
        <meta name="author" content="Bùi Hải Nam">
      
      
        <meta name="lang:clipboard.copy" content="Sao chép vào bộ nhớ">
      
        <meta name="lang:clipboard.copied" content="Sao chép xong">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="Không tìm thấy tài liệu liên quan">
      
        <meta name="lang:search.result.one" content="1 tài liệu liên quan">
      
        <meta name="lang:search.result.other" content="# tài liệu liên quan">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../img/logo.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.1.2">
    
    
      
        <title>Kotlin Property và field - Bùi Hải Nam</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.3020aac5.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.224b79ff.css">
      
      
        
        
        <meta name="theme-color" content="#00bcd4">
      
    
    
      <script src="../../assets/javascripts/modernizr.01ccdecf.js"></script>
    
    
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
      <link rel="manifest" href="../../manifest.webmanifest">
    
    
    
      
        
<script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-139140751-1", "auto")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="cyan" data-md-color-accent="cyan">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#146-khai-bao-property" tabindex="1" class="md-skip">
        Vào thẳng nội dung
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://buihainam.com/" title="Bùi Hải Nam" class="md-header-nav__button md-logo">
          
            <img src="../../img/logo.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Bùi Hải Nam
            </span>
            <span class="md-header-nav__topic">
              Kotlin Property và field
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Tìm kiếm" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Nhập để bắt đầu tìm kiếm
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/VNAPNIC/Learn-to-Code" title="Đến kho lưu trữ mã nguồn" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    VNAPNIC/Learn-to-Code
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://buihainam.com/" title="Bùi Hải Nam" class="md-nav__button md-logo">
      
        <img src="../../img/logo.png" width="48" height="48">
      
    </a>
    Bùi Hải Nam
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/VNAPNIC/Learn-to-Code" title="Đến kho lưu trữ mã nguồn" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    VNAPNIC/Learn-to-Code
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="About" class="md-nav__link">
      About
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      Kotlin
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Kotlin
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../kotlin_basic/" title="Kotlin Basic" class="md-nav__link">
      Kotlin Basic
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../kotlin_class_inheritance/" title="Kotlin Class và kế thừa" class="md-nav__link">
      Kotlin Class và kế thừa
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Kotlin Property và field
      </label>
    
    <a href="./" title="Kotlin Property và field" class="md-nav__link md-nav__link--active">
      Kotlin Property và field
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Mục lục</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#146-khai-bao-property" title="1. Khai báo property" class="md-nav__link">
    1. Khai báo property
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#246-cac-ham-gettersetter" title="2. Các hàm getter/setter" class="md-nav__link">
    2. Các hàm getter/setter
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#346-backing-field" title="3. Backing field" class="md-nav__link">
    3. Backing field
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#446-backing-property" title="4. Backing property" class="md-nav__link">
    4. Backing property
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#546-compile-time-constant" title="5. Compile-time constant" class="md-nav__link">
    5. Compile-time constant
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#646-late-initialized-property-khoi-tao-cham-cac-thuoc-tinh" title="6. Late-initialized property (Khởi tạo chậm các thuộc tính)" class="md-nav__link">
    6. Late-initialized property (Khởi tạo chậm các thuộc tính)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#746-overriding-property-ghi-e-cac-property" title="7. Overriding property (Ghi đè các property)" class="md-nav__link">
    7. Overriding property (Ghi đè các property)
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../kotlin_function/" title="Kotlin Funtion" class="md-nav__link">
      Kotlin Funtion
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../kotlin_inteface/" title="Kotlin Inteface" class="md-nav__link">
      Kotlin Inteface
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../kotlin_data_class/" title="Kotlin Data class" class="md-nav__link">
      Kotlin Data class
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../kotlin_nested_class/" title="Kotlin Nested class" class="md-nav__link">
      Kotlin Nested class
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../kotlin_visibility_modifiers/" title="Kotlin Visibility Modifiers" class="md-nav__link">
      Kotlin Visibility Modifiers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../kotlin_higher_order_function/" title="Kotlin Higher order funtion" class="md-nav__link">
      Kotlin Higher order funtion
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../kotlin_lambda/" title="Kotlin Lambda" class="md-nav__link">
      Kotlin Lambda
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Dart
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Dart
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../dart/dart_environment_settings/" title="Dart Cài đặt môi trường" class="md-nav__link">
      Dart Cài đặt môi trường
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../dart/dart_core/" title="Dart Basic" class="md-nav__link">
      Dart Basic
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../dart/dart_dart_vs_swift_a_comparison/" title="So sánh Dart và Swift" class="md-nav__link">
      So sánh Dart và Swift
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Mục lục</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#146-khai-bao-property" title="1. Khai báo property" class="md-nav__link">
    1. Khai báo property
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#246-cac-ham-gettersetter" title="2. Các hàm getter/setter" class="md-nav__link">
    2. Các hàm getter/setter
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#346-backing-field" title="3. Backing field" class="md-nav__link">
    3. Backing field
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#446-backing-property" title="4. Backing property" class="md-nav__link">
    4. Backing property
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#546-compile-time-constant" title="5. Compile-time constant" class="md-nav__link">
    5. Compile-time constant
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#646-late-initialized-property-khoi-tao-cham-cac-thuoc-tinh" title="6. Late-initialized property (Khởi tạo chậm các thuộc tính)" class="md-nav__link">
    6. Late-initialized property (Khởi tạo chậm các thuộc tính)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#746-overriding-property-ghi-e-cac-property" title="7. Overriding property (Ghi đè các property)" class="md-nav__link">
    7. Overriding property (Ghi đè các property)
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>Kotlin Property và field</h1>
                
                <h2 id="146-khai-bao-property">1. Khai báo <code>property</code><a class="headerlink" href="#146-khai-bao-property" title="Permanent link">&para;</a></h2>
<p>Các <code>class</code> trong <em>Kotlin</em> có thể có các <code>property</code>. Chúng có thể khai báo là các biến - sử dụng từ khóa <code>var</code> hoặc các constant - sử dụng từ khóa <code>val</code>.</p>
<p>Java</p>
<div class="codehilite"><pre><span></span>  <span class="kd">class</span> <span class="nc">Address</span> <span class="o">{</span>
    <span class="n">String</span> <span class="n">name</span><span class="o">;</span>
    <span class="n">String</span> <span class="n">street</span><span class="o">;</span>
    <span class="n">String</span> <span class="n">city</span><span class="o">;</span>
    <span class="n">String</span> <span class="n">state</span><span class="o">;</span>
    <span class="n">String</span> <span class="n">zip</span><span class="o">;</span>
  <span class="o">}</span>
</pre></div>

<p>Kotlin</p>
<div class="codehilite"><pre><span></span>  <span class="k">class</span> <span class="nc">Address</span> <span class="p">{</span>
    <span class="k">var</span> <span class="py">name</span><span class="p">:</span> <span class="n">String</span> <span class="p">=</span> <span class="p">...</span>
    <span class="k">var</span> <span class="py">street</span><span class="p">:</span> <span class="n">String</span> <span class="p">=</span> <span class="p">...</span>
    <span class="k">var</span> <span class="py">city</span><span class="p">:</span> <span class="n">String</span> <span class="p">=</span> <span class="p">...</span>
    <span class="k">var</span> <span class="py">state</span><span class="p">:</span> <span class="n">String</span><span class="p">?</span> <span class="p">=</span> <span class="p">...</span>
    <span class="k">var</span> <span class="py">zip</span><span class="p">:</span> <span class="n">String</span> <span class="p">=</span> <span class="p">...</span>
  <span class="p">}</span>
</pre></div>

<p>Để sử dụng các <code>property</code> này, chúng ta chỉ cần access đến chúng bằng tên, hoặc bằng các hàm <code>getter/setter</code> như trong <em>Java</em></p>
<p>Java</p>
<div class="codehilite"><pre><span></span>  public Address copyAddress(Address address) {
    Address result = new Address();
    result.setName(address.getName());
    result.setStreet(address.getStreet());
    //....
    return result;
  }
</pre></div>

<p>Kotlin</p>
<div class="codehilite"><pre><span></span>  <span class="k">fun</span> <span class="nf">copyAddress</span><span class="p">(</span><span class="n">address</span><span class="p">:</span> <span class="n">Address</span><span class="p">):</span> <span class="n">Address</span> <span class="p">{</span>
      <span class="k">val</span> <span class="py">result</span> <span class="p">=</span> <span class="n">Address</span><span class="p">()</span> <span class="c1">// không còn từ khóa &#39;new&#39; trong Kotlin</span>
      <span class="n">result</span><span class="p">.</span><span class="n">name</span> <span class="p">=</span> <span class="n">address</span><span class="p">.</span><span class="n">name</span> <span class="c1">//các hàm &#39;getter/setter&#39; sẽ được gọi, dù nhìn trông như bạn đang truy cập trực tiếp vào &#39;property&#39;</span>
      <span class="n">result</span><span class="p">.</span><span class="n">street</span> <span class="p">=</span> <span class="n">address</span><span class="p">.</span><span class="n">street</span>
      <span class="c1">// ...</span>
      <span class="k">return</span> <span class="n">result</span>
  <span class="p">}</span>
</pre></div>

<h2 id="246-cac-ham-gettersetter">2. Các hàm <code>getter/setter</code><a class="headerlink" href="#246-cac-ham-gettersetter" title="Permanent link">&para;</a></h2>
<p>Cấu trúc đầy đủ của khai báo <code>property</code> trong <em>Kotlin</em> là:</p>
<div class="codehilite"><pre><span></span>  <span class="k">var</span> <span class="err">&lt;</span><span class="py">propertyName</span><span class="p">&gt;[:</span> <span class="p">&lt;</span><span class="n">PropertyType</span><span class="p">&gt;]</span> <span class="p">[=</span> <span class="p">&lt;</span><span class="n">property_initializer</span><span class="p">&gt;]</span>
<span class="na">      [&lt;getter&gt;]</span>
<span class="na">      [&lt;setter&gt;]</span>
</pre></div>

<p>Trong đó, giá trị khởi tạo, và các hàm <code>getter/setter</code> là không bắt buộc, kiểu dữ liệu cũng là không bắt buộc nếu nó có thể được suy ra từ việc khởi tạo (hoặc từ kiểu của mà hàm <code>getter</code> trả về, sẽ được nói phía sau). Tuy nhiên, để code được trong sáng, lời khuyên là nên thêm kiểu của thuộc tính khi khai báo.</p>
<div class="codehilite"><pre><span></span>  <span class="k">var</span> <span class="py">allByDefault</span><span class="p">:</span> <span class="n">Int</span><span class="p">?</span> <span class="c1">// compiler báo lỗi vì việc khởi tạo được yêu cầu, các hàm &#39;getter/setter&#39; mặc định được chỉ định</span>
  <span class="k">var</span> <span class="py">initialized</span> <span class="p">=</span> <span class="m">1</span> <span class="c1">// kiểu &#39;Int&#39;, hàm &#39;getter/setter&#39; mặc định</span>
</pre></div>

<p>Với các constant, việc khai báo sử dụng từ khóa <code>val</code> và không được định nghĩa hàm <code>setter</code>:</p>
<div class="codehilite"><pre><span></span>  <span class="k">val</span> <span class="py">simple</span><span class="p">:</span> <span class="n">Int</span><span class="p">?</span> <span class="c1">// compiler báo lỗi: yêu cầu việc khởi tạo, &#39;getter&#39; mặc định</span>
  <span class="k">val</span> <span class="py">inferredType</span> <span class="p">=</span> <span class="m">1</span> <span class="c1">// kiểu &#39;Int&#39;, hàm &#39;getter&#39; mặc định</span>
</pre></div>

<p>Với các hàm <code>getter/setter</code>, nếu không được định nghĩa, các hàm <code>getter/setter</code> mặc định sẽ được sử dụng. Chúng ta có thể định nghĩa các hàm này ngay sau việc khai báo các <code>property</code>. Mặc định, tên của <code>param</code> của hàm <code>setter</code> là <code>value</code>. Tuy nhiên, bạn có thể chọn một cái tên khác. Nếu thích!</p>
<div class="codehilite"><pre><span></span>  <span class="k">var</span> <span class="py">isEmpty</span><span class="p">:</span> <span class="n">Boolean</span>
      <span class="k">get</span><span class="p">()</span> <span class="p">{</span>         <span class="c1">//</span>
        <span class="k">return</span> <span class="n">field</span>  <span class="c1">// hàm &#39;getter&#39; mặc định</span>
      <span class="p">}</span>               <span class="c1">//</span>
      <span class="k">set</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">field</span> <span class="p">=</span> <span class="n">value</span>
      <span class="p">}</span>

  <span class="k">var</span> <span class="py">isEmpty</span><span class="p">:</span> <span class="n">Boolean</span>
      <span class="k">get</span><span class="p">()</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="n">size</span> <span class="p">==</span> <span class="m">0</span>    <span class="c1">// hàm &#39;getter&#39; tự định nghĩa</span>
      <span class="k">set</span> <span class="p">(</span><span class="n">value</span><span class="p">){</span>              <span class="c1">//</span>
        <span class="n">print</span><span class="p">(</span><span class="s">&quot;Setter: $value&quot;</span><span class="p">)</span> <span class="c1">//hàm &#39;setter&#39; tự định nghĩa</span>
        <span class="n">field</span> <span class="p">=</span> <span class="n">value</span>           <span class="c1">//</span>
      <span class="p">}</span>
</pre></div>

<p>Từ <em>Kotlin 1.1</em>, bạn có thể bỏ qua kiểu dữ liệu của <code>property</code> nếu nó có thể được suy ra từ kiểu trả về của hàm <code>getter</code>:</p>
<div class="codehilite"><pre><span></span>  <span class="k">val</span> <span class="py">isEmpty</span> <span class="k">get</span><span class="p">()</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="n">size</span> <span class="p">==</span> <span class="m">0</span>  <span class="c1">// isEmpty sẽ có kiểu là Boolean</span>
</pre></div>

<p>Ngoài ra, ta cũng có thể xác định visibility modifier của hàm <code>setter</code>. Lưu ý: modifier của <code>setter</code>phải có phạm vi không được lớn hơn phạm vi modifier của <code>property</code>. Với <code>getter</code>, chúng ta không thể thay đổi modifier của hàm <code>getter</code> bởi modifier của <code>getter</code> phải giống với modifier của <code>property</code>. Bạn cũng có thể chỉ xác định lại modifier của hàm <code>setter</code> mà không cần implement hàm đó:</p>
<div class="codehilite"><pre><span></span>  var setterVisibility: String = &quot;abc&quot;
    private set // hàm &#39;setter&#39; có modifier là &#39;private&#39; và việc implement là mặc định
</pre></div>

<h2 id="346-backing-field">3. Backing field<a class="headerlink" href="#346-backing-field" title="Permanent link">&para;</a></h2>
<p>Trong một VD ở phía trên trên, ta có thể thấy một biến xuất hiện trong các hàm <code>getter/setter</code> tự định nghĩa, đó là <code>field</code>. Lưu ý, <code>field</code> chỉ có thể sử dụng bên trong các hàm <code>getter/setter</code> và <code>field</code> sẽ được tự động gen cho <code>property</code> nếu một trong các hàm <code>getter/setter</code> tham chiếu đến nó. Nếu không, <code>property</code> sẽ không có <code>field</code>. Nhưng vì sao phải dùng <code>field</code> thay vì dùng <code>property</code> một cách trực tiếp như thế này:</p>
<div class="codehilite"><pre><span></span><span class="k">var</span> <span class="py">isEmpty</span><span class="p">:</span> <span class="n">Boolean</span>
    <span class="k">get</span><span class="p">()</span> <span class="p">=</span> <span class="p">{</span>
      <span class="k">return</span> <span class="n">isEmpty</span>
    <span class="p">}</span>
    <span class="k">set</span> <span class="p">(</span><span class="n">value</span><span class="p">){</span>
      <span class="n">isEmpty</span> <span class="p">=</span> <span class="n">value</span>
    <span class="p">}</span>
</pre></div>

<p>Như trong một vd ở trên đã đề cập, khi bạn access đến một <code>property</code>:</p>
<div class="codehilite"><pre><span></span>  <span class="k">val</span> <span class="py">result</span> <span class="p">=</span> <span class="n">Address</span><span class="p">()</span>
  <span class="n">result</span><span class="p">.</span><span class="n">name</span> <span class="p">=</span> <span class="n">address</span><span class="p">.</span><span class="n">name</span>
</pre></div>

<p>Khi này, thực chất, hàm <code>setter</code> và <code>getter</code> của property <code>name</code> sẽ được gọi chứ không phải bạn đang access trực tiếp đến <code>name</code>. Bởi vậy, trong các hàm <code>getter/setter</code> tự định nghĩa, nếu sử dụng trực tiếp các <code>property</code> (vd hàm <code>getter</code>), <em>Kotlin</em> sẽ gọi lại chính hàm <code>getter</code> đó, từ đó gây ra tràn bộ nhớ Stack - <code>StackOverflowError</code>.</p>
<h2 id="446-backing-property">4. Backing property<a class="headerlink" href="#446-backing-property" title="Permanent link">&para;</a></h2>
<p>Nếu bạn không quen (hoặc không thích) cách dùng <code>field</code> ở trên, bạn có thể sử dụng backing property. Việc này tương tự như trong <em>Java</em>, và các hàm <code>getter/ setter</code> sẽ được tối ưu để việc tràn bộ nhớ không xảy ra. Tuy nhiên, việc viết code sẽ vất vả hơn, tất nhiên rồi:</p>
<div class="codehilite"><pre><span></span>  <span class="k">private</span> <span class="k">var</span> <span class="py">_table</span><span class="p">:</span> <span class="n">Map</span><span class="p">&lt;</span><span class="n">String</span><span class="p">,</span> <span class="n">Int</span><span class="p">&gt;?</span> <span class="p">=</span> <span class="k">null</span>
  <span class="k">public</span> <span class="k">var</span> <span class="py">table</span><span class="p">:</span> <span class="n">Map</span><span class="p">&lt;</span><span class="n">String</span><span class="p">,</span> <span class="n">Int</span><span class="p">&gt;</span>
      <span class="k">get</span><span class="p">()</span> <span class="p">{</span>
          <span class="k">if</span> <span class="p">(</span><span class="n">_table</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span> <span class="p">{</span>
              <span class="n">_table</span> <span class="p">=</span> <span class="n">HashMap</span><span class="p">()</span> <span class="c1">// Type parameters are inferred</span>
          <span class="p">}</span>
          <span class="k">return</span> <span class="n">_table</span> <span class="o">?:</span> <span class="k">throw</span> <span class="n">AssertionError</span><span class="p">(</span><span class="s">&quot;Set to null by another thread&quot;</span><span class="p">)</span>
      <span class="p">}</span>
      <span class="k">set</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">_table</span> <span class="p">=</span> <span class="n">value</span>
      <span class="p">}</span>
</pre></div>

<p>Trong VD trên, <code>property</code> mà chúng ta sử dụng để lưu dữ liệu là <code>_table</code> còn <code>table</code> chỉ là cách thức để chúng ta truy cập đến <code>_table</code>.</p>
<h2 id="546-compile-time-constant">5. Compile-time constant<a class="headerlink" href="#546-compile-time-constant" title="Permanent link">&para;</a></h2>
<p>Các thuộc tính mà giá trị của chúng được biến đến lúc compile có thể được đánh dấu là compile time constant, sử dụng từ khóa <code>const</code>. Những <code>property</code> để đạt được cần thỏa mãn nhưng yêu cầu sau:</p>
<ul>
<li>Là top-level <code>property</code> hoặc là member của một <code>object</code>(object trong <em>Kotlin</em> là một singleton, không phải là đối tượng)</li>
<li>Được khởi tạo với kiểu <code>String</code> hoặc kiểu nguyên thủy(Int, Float, Char, Boolean...), không thể là một đối tượng được định nghĩa</li>
<li>Không được có hàm <code>getter</code> tự định nghĩa</li>
</ul>
<div class="codehilite"><pre><span></span>  <span class="k">const</span> <span class="k">val</span> <span class="py">SUBSYSTEM_DEPRECATED</span><span class="p">:</span> <span class="n">String</span> <span class="p">=</span> <span class="s">&quot;This subsystem is deprecated&quot;</span>

  <span class="n">@Deprecated</span><span class="p">(</span><span class="n">SUBSYSTEM_DEPRECATED</span><span class="p">)</span> <span class="k">fun</span> <span class="nf">foo</span><span class="p">()</span> <span class="p">{</span> <span class="p">...</span> <span class="p">}</span>
</pre></div>

<h2 id="646-late-initialized-property-khoi-tao-cham-cac-thuoc-tinh">6. Late-initialized property (Khởi tạo chậm các thuộc tính)<a class="headerlink" href="#646-late-initialized-property-khoi-tao-cham-cac-thuoc-tinh" title="Permanent link">&para;</a></h2>
<p>Bình thường, khi các <code>property</code> được khai báo trong class mà thuộc kiểu non-null phải được khởi tạo: trực tiếp hoặc bằng constructor. Tuy nhiên, việc này không được tiện cho lắm. VD: <code>property</code> có thể được khởi tạo thông qua Dependency injection hoặc được khởi tạo bên trong method setup của một unit tets hoặc được gán trong một method khác bên trong class. Bởi vậy, <em>Kotlin</em> cung cấp cơ chế cho phép delay việc khởi tạo: từ khóa <code>lateinit</code></p>
<div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">Teacher</span><span class="p">(</span><span class="k">var</span> <span class="py">name</span><span class="p">:</span> <span class="n">String</span><span class="p">,</span> <span class="k">var</span> <span class="py">age</span><span class="p">:</span> <span class="n">Int</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">lateinit</span> <span class="k">var</span> <span class="py">className</span><span class="p">:</span> <span class="n">String</span>
<span class="p">}</span>
</pre></div>

<p>Yêu cầu để sử dụng được từ khóa <code>lateinit</code> là:</p>
<ul>
<li>Phải sử dụng với <code>var property</code> được khai báo bên trong một class nhưng không phải là trong primary constructor. - <code>property</code> này không được có các hàm <code>getter/setter</code> tự định nghĩa mà phải dùng các hàm mặc định</li>
<li>Kiểu của các <code>property</code> này phải là non-null và không thể là kiểu dữ liệu nguyên thủy(Int, Float,Char, Boolean...)</li>
<li>Nếu truy cập các <code>property</code> này khi chúng chưa được khởi tạo, xin chúc mừng: <code>kotlin.UninitializedPropertyAccessException</code> sẽ xuất hiện.</li>
</ul>
<h2 id="746-overriding-property-ghi-e-cac-property">7. Overriding property (Ghi đè các <code>property</code>)<a class="headerlink" href="#746-overriding-property-ghi-e-cac-property" title="Permanent link">&para;</a></h2>
<p>Trong <em>Kotlin</em>, chúng ta có thể ghi đè các <code>property</code> bằng cách sử dụng từ khóa <code>override</code> tương tự như override các method.</p>
<div class="codehilite"><pre><span></span>  <span class="k">open</span> <span class="k">class</span> <span class="nc">Foo</span> <span class="p">{</span>
    <span class="k">open</span> <span class="k">val</span> <span class="py">x</span><span class="p">:</span> <span class="n">Int</span> <span class="k">get</span> <span class="p">{</span> <span class="p">...</span> <span class="p">}</span>
  <span class="p">}</span>

  <span class="k">class</span> <span class="nc">Bar1</span> <span class="p">:</span> <span class="n">Foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">override</span> <span class="k">val</span> <span class="py">x</span><span class="p">:</span> <span class="n">Int</span> <span class="p">=</span> <span class="p">...</span>
  <span class="p">}</span>
</pre></div>

<p>Đặc biệt, chúng ta có thể override lại một <code>val</code> property bằng một <code>var</code> property, nhưng không thể làm điều ngược lại. Điều này được phép bởi vì một <code>val</code> property đã khai báo hàm <code>getter</code>, và khi override lại nó là <code>var</code>, chúng ta cần viết thêm hàm <code>setter</code> trong class con.</p>
<p>Từ khóa <code>override</code> cũng có thể sử dụng ngay trong primary constructor:</p>
<div class="codehilite"><pre><span></span>  <span class="k">interface</span> <span class="nc">Foo</span> <span class="p">{</span>
    <span class="k">val</span> <span class="py">count</span><span class="p">:</span> <span class="n">Int</span>
  <span class="p">}</span>

  <span class="k">class</span> <span class="nc">Bar1</span><span class="p">(</span><span class="k">override</span> <span class="k">val</span> <span class="py">count</span><span class="p">:</span> <span class="n">Int</span><span class="p">)</span> <span class="p">:</span> <span class="n">Foo</span>

  <span class="k">class</span> <span class="nc">Bar2</span> <span class="p">:</span> <span class="n">Foo</span> <span class="p">{</span>
    <span class="k">override</span> <span class="k">var</span> <span class="py">count</span><span class="p">:</span> <span class="n">Int</span> <span class="p">=</span> <span class="m">0</span>
  <span class="p">}</span>
</pre></div>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../kotlin_class_inheritance/" title="Kotlin Class và kế thừa" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Trước
                </span>
                Kotlin Class và kế thừa
              </span>
            </div>
          </a>
        
        
          <a href="../kotlin_function/" title="Kotlin Funtion" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Sau
                </span>
                Kotlin Funtion
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2019 - 2020 Bùi Hải Nam
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../assets/fonts/font-awesome.css">
    
      <a href="http://finishcoding.com/" class="md-footer-social__link fa fa-globe"></a>
    
      <a href="https://github.com/VNAPNIC" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://www.facebook.com/NankaiNotes" class="md-footer-social__link fa fa-facebook"></a>
    
      <a href="https://www.youtube.com/channel/UCECQ8GHamKx4H5jHMmNi2Ag" class="md-footer-social__link fa fa-youtube"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.267712eb.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
    
  </body>
</html>